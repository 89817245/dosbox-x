\hypertarget{classPC98__System__8255}{\section{P\-C98\-\_\-\-System\-\_\-8255 Class Reference}
\label{classPC98__System__8255}\index{P\-C98\-\_\-\-System\-\_\-8255@{P\-C98\-\_\-\-System\-\_\-8255}}
}


P\-C-\/98 System 8255 P\-P\-I emulation (Intel 8255\-A device)  


Inheritance diagram for P\-C98\-\_\-\-System\-\_\-8255\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classPC98__System__8255}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classPC98__System__8255_a75fbaf4c6f1de6a5a4680f6e9ddfef48}{virtual uint8\-\_\-t \hyperlink{classPC98__System__8255_a75fbaf4c6f1de6a5a4680f6e9ddfef48}{in\-Port\-A} (void) const }\label{classPC98__System__8255_a75fbaf4c6f1de6a5a4680f6e9ddfef48}

\begin{DoxyCompactList}\small\item\em Called by 8255 emulation to latch from port A pins. \end{DoxyCompactList}\item 
\hypertarget{classPC98__System__8255_ac40439f86eb00db1563e9c8fedab3dd3}{virtual uint8\-\_\-t \hyperlink{classPC98__System__8255_ac40439f86eb00db1563e9c8fedab3dd3}{in\-Port\-B} (void) const }\label{classPC98__System__8255_ac40439f86eb00db1563e9c8fedab3dd3}

\begin{DoxyCompactList}\small\item\em Called by 8255 emulation to latch from port B pins. \end{DoxyCompactList}\item 
\hypertarget{classPC98__System__8255_a273039abe8a3f459c2fe5937cc145f39}{virtual void \hyperlink{classPC98__System__8255_a273039abe8a3f459c2fe5937cc145f39}{out\-Port\-C} (const uint8\-\_\-t mask)}\label{classPC98__System__8255_a273039abe8a3f459c2fe5937cc145f39}

\begin{DoxyCompactList}\small\item\em Called by 8255 emulation when latching to port C pins. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
P\-C-\/98 System 8255 P\-P\-I emulation (Intel 8255\-A device) 

N\-E\-C P\-C-\/98 systems use a 8255 to enable reading the D\-I\-P switches on the front (port A), some hardware state (Port B), and to control some hardware and signal the \hyperlink{classBIOS}{B\-I\-O\-S} for shutdown/reset (Port C).

This P\-P\-I is connected to I/\-O ports 0x31-\/0x37 odd.
\begin{DoxyItemize}
\item 0x31 Port A
\item 0x33 Port B
\item 0x35 Port C
\item 0x37 control/mode
\end{DoxyItemize}

Note that on real hardware, P\-C-\/9801 systems had physical D\-I\-P switches until sometime around the early nineties when the D\-I\-P switches became virtual, and were set by the \hyperlink{classBIOS}{B\-I\-O\-S} according to configuration stored elsewhere.

This P\-P\-I is connected to\-:
\begin{DoxyItemize}
\item Port A (in)\-: D\-I\-P switches 2-\/1 through 2-\/8
\item Port B (in)\-: Parity error, expansion bus I\-N\-T 3, and R\-S-\/232\-C (8251) status
\item Port C (out)\-: R\-S-\/232\-C interrupt enable, speaker (buzzer) inhibit, parity check enable, and shutdown flags.
\end{DoxyItemize}

The two \char`\"{}shutdown\char`\"{} bit flags serve to instruct the \hyperlink{classBIOS}{B\-I\-O\-S} on what to do after a soft \hyperlink{classCPU}{C\-P\-U} reset. One particular setting allows 286-\/class systems to reset to real mode through a F\-A\-R return stack, for the same reasons that I\-B\-M P\-C/\-A\-T systems enable reset to real mode through a reset byte written to R\-T\-C C\-M\-O\-S and a far pointer to jump to. A well known P\-C-\/9821 expanded memory emulator, V\-E\-M\-M486.\-E\-X\-E, relies on the shutdown bits in that manner when it initializes. 

Definition at line 1693 of file keyboard.\-cpp.



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
src/hardware/keyboard.\-cpp\end{DoxyCompactItemize}
